(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{6230:(e,t,a)=>{Promise.resolve().then(a.bind(a,9238))},2423:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(7401).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4955:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(7401).A)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},9238:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(5155),i=a(2115),n=a(6046),s=a(9124),l=a(4955);let o=(0,a(7401).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var d=a(2423),c=a(1086);let h=["Afghanistan","Argentina","Australia","Austria","Belgium","Brazil","Canada","Chile","China","Colombia","Egypt","Finland","France","Germany","Ghana","Greece","India","Indonesia","Iran","Ireland","Italy","Japan","Kenya","South Korea","Mexico","Netherlands","Nigeria","Norway","Pakistan","Philippines","Poland","Portugal","Russia","South Africa","Spain","Sweden","Switzerland","Turkey","Ukraine","United Kingdom","United States","Vietnam","Other"],u=new Date().getFullYear(),m=Array.from({length:60},(e,t)=>u-18-t);function p(){let e=(0,n.useRouter)(),[t,a]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[x,g]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null);async function y(a){var r;if(a.preventDefault(),!t||""===u)return;w(null),g(!0);let i=(0,c.U)(),{data:{user:n}}=await i.auth.getUser();if(!n){g(!1);return}let{error:s}=await i.from("profiles").upsert({id:n.id,email:null!==(r=n.email)&&void 0!==r?r:"",nationality:t,birth_year:Number(u),updated_at:new Date().toISOString()},{onConflict:"id"});if(g(!1),s){w(s.message);return}e.push("/"),e.refresh()}return(0,i.useEffect)(()=>{(0,c.U)().auth.getUser().then(t=>{let{data:{user:a}}=t;a||e.replace("/login")})},[e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md glass-panel rounded-2xl p-8 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 rounded-xl bg-white/10",children:(0,r.jsx)(l.A,{className:"w-8 h-8 text-amber-400/90"})}),(0,r.jsx)("span",{className:"text-xl font-semibold tracking-tight",children:"Almost there"})]}),(0,r.jsx)("p",{className:"text-sm text-white/60 mb-6",children:"Two quick details so we can tailor picks for our community."}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-white/80 mb-2 flex items-center gap-2",children:[(0,r.jsx)(o,{className:"w-4 h-4 text-white/50"}),"Nationality"]}),(0,r.jsxs)("select",{value:t,onChange:e=>a(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-white/30 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"18px"},children:[(0,r.jsx)("option",{value:"",children:"Select"}),h.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-white/80 mb-2 flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-white/50"}),"Birth year"]}),(0,r.jsxs)("select",{value:u,onChange:e=>p(e.target.value?Number(e.target.value):""),required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-white/30 appearance-none cursor-pointer",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"18px"},children:[(0,r.jsx)("option",{value:"",children:"Select"}),m.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),b&&(0,r.jsx)("p",{className:"text-sm text-red-400/90",children:b}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 rounded-xl bg-amber-500/20 text-amber-300 border border-amber-400/30 hover:bg-amber-500/30 transition font-medium disabled:opacity-50",children:x?"Savingâ€¦":"Continue"})]})]})})}},1086:(e,t,a)=>{"use strict";a.d(t,{U:()=>i});var r=a(9194);function i(){return(0,r.createBrowserClient)("https://peyidfqcjhhjafituwqx.supabase.co","sb_publishable_Zi81Iv4yZKrPDr0NrBI_Wg_JJC8Zt4c")}}},e=>{var t=t=>e(e.s=t);e.O(0,[889,194,441,517,358],()=>t(6230)),_N_E=e.O()}]);