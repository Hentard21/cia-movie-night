(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6945:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,7916)),Promise.resolve().then(r.bind(r,7307))},6046:(e,t,r)=>{"use strict";var l=r(6658);r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},7916:(e,t,r)=>{"use strict";r.d(t,{AuthGuard:()=>o});var l=r(5155),u=r(6046),n=r(7307);function o(e){let{children:t}=e,r=(0,u.usePathname)(),{ready:o}=(0,n.J)();return o||"/welcome"===r?(0,l.jsx)(l.Fragment,{children:t}):null}},7307:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,UserProvider:()=>s});var l=r(5155),u=r(2115);let n="movie-voting-user",o="movie-voting-admin",a=(0,u.createContext)(null);function s(e){let{children:t}=e,[r,s]=(0,u.useState)(null),[i,c]=(0,u.useState)(!1),[m,v]=(0,u.useState)(!1);(0,u.useEffect)(()=>{s(function(){try{let e=localStorage.getItem(n);if(!e)return null;let t=JSON.parse(e);if((null==t?void 0:t.id)&&(null==t?void 0:t.full_name)&&(null==t?void 0:t.course)&&(null==t?void 0:t.level))return t}catch(e){}return null}()),c("true"===localStorage.getItem(o)),v(!0)},[]);let d=(0,u.useCallback)(e=>{localStorage.setItem(n,JSON.stringify(e)),s(e)},[]),h=(0,u.useCallback)(()=>{localStorage.removeItem(n),localStorage.removeItem(o),s(null),c(!1)},[]),f=(0,u.useCallback)(e=>"3141"===e&&(localStorage.setItem(o,"true"),c(!0),!0),[]),g=(0,u.useCallback)(()=>{localStorage.removeItem(o),c(!1)},[]),S=(0,u.useMemo)(()=>({user:r,isAdmin:i,ready:m,setUser:d,signOut:h,unlockAdmin:f,lockAdmin:g}),[r,i,m,d,h,f,g]);return(0,l.jsx)(a.Provider,{value:S,children:t})}function i(){let e=(0,u.useContext)(a);if(!e)throw Error("useUser must be used within UserProvider");return e}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[690,441,517,358],()=>t(6945)),_N_E=e.O()}]);